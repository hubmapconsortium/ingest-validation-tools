# A description of Akoya CODEX dataset directories.
# Based on the description at https://docs.google.com/document/d/1CYYSXPQjwdbvmvZaEcsi_2udvDfGEZrMyh4yFnm4p3M/edit#heading=h.h6zxv8ghthzp

items:
  oneOf:
    - $ref:
        '#/definitions/subdirectory'
    - properties:
        type:
          enum:
            - file
        name:
          enum:
            - experiment.json
            - exposure_times.txt
            - channelNames.txt

contains:
  properties:
      name:
        enum:
          - experiment.json
  properties:
      name:
        enum:
          - exposure_times.txt
  properties:
      name:
        enum:
          - channelNames.txt

definitions:
  subdirectory:
    properties:
      type:
        enum:
          - directory
      name:
        pattern: '^cyc\d+_reg\d+_\d+_\d+$'
      contents:
        items:
          properties:
            name:
              pattern: '^\d+_\d+_Z\d+_CH\d+$'
