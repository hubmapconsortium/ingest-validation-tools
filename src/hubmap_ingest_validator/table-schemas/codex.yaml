fields:
  -
    heading: Provenance
    name: donor_id
    description: HuBMAP Display ID of the donor of the assayed tissue.
    constraints:
      required: True
      pattern: '[A-Z]+[0-9]+'
  -
    name: tissue_id
    description: HuBMAP Display ID of the assayed tissue.
    constraints:
      required: True
      pattern: '[A-Z]+[0-9]+(-[A-Z0-9]+)+'
  -
    heading: Level 1
    name: execution_datetime
    description: Start date and time of assay. YYYY-MM-DD hh:mm +/-hh:mm, where YYYY is the year, MM is the month with leading 0s, and DD is the day with leading 0s, hh is the hour with leading zeros, mm are the minutes with leading zeros, followed by the offset from GMT.
    type: datetime
    format: "%Y-%m-%d %H:%M %z"
    constraints:
      required: True
  -
    name: protocols_io_doi
    description: DOI for protocols.io referring to the protocol for this assay.
    constraints:
      required: True
      pattern: '10\.17504/.*'
  -
    name: operator
    description: Name of the person responsible for executing the assay.
    constraints:
      required: True
  -
    name: operator_email
    description: Email address for the operator.
    format: email
    constraints:
      required: True
  -
    name: pi
    description: Name of the principal investigator responsible for the data.
    constraints:
      required: True
  -
    name: pi_email
    description: Email address for the principal investigator.
    format: email
    constraints:
      required: True
  -
    name: assay_category
    description: 'Each assay is placed into one of the following 3 general categories: generation of images of microscopic entities, identification & quantitation of molecules by mass spectrometry, and determination of nucleotide sequence. TODO: What are the exact strings to expect?'
    constraints:
      required: True
  -
    name: assay_type
    description: 'The specific type of assay being executed. TODO: What are the exact strings to expect?'
    constraints:
      required: True
  -
    name: analyte_class
    description: Analytes are the target molecules being measured with the assay. TODO - What are the exact strings to expect?
    constraints:
      required: True
  -
    name: is_targeted
    description: Specifies whether or not a specific molecule(s) is/are targeted for detection/measurement by the assay .The CODEX analyte is protein.
    type: boolean
    constraints:
      required: True
  -
    heading: Level 2
    name: acquisition_instrument_vendor
    description: An acquisition_instrument is the device that contains the signal detection hardware and signal processing software. Assays generate signals such as light of various intensities or color or signals representing molecular mass.
    constraints:
      required: True
  -
    name: acquisition_instrument_model
    description: Manufacturers of an acquisition instrument may offer various versions (models) of that instrument with different features or sensitivities. Differences in features or sensitivities may be relevant to processing or interpretation of the data.
    constraints:
      required: True
  -
    name: resolution_x_value
    description: The width of a pixel. (Akoya pixel is 377nm square)
    type: number
    constraints:
      required: True
  -
    name: resolution_x_unit
    description: The unit of measurement of width of a pixel.(nm)
    constraints:
      required: True
      enum: ['mm', 'um', 'nm']
  -
    name: resolution_y_value
    description: The height of a pixel. (Akoya pixel is 377nm square)
    type: number
    constraints:
      required: True
  -
    name: resolution_y_unit
    description: The unit of measurement of height of a pixel. (nm)
    constraints:
      required: True
      enum: ['mm', 'um', 'nm']
  -
    name: resolution_z_value
    description: 'Optional if assay does not have multiple z-levels. Note that this is resolution within a given sample: z-pitch (resolution_z_value) is the increment distance between image slices (for Akoya, z-pitch=1.5um) ie. the microscope stage is moved up or down in increments of 1.5um to capture images of several focal planes. The best one will be used & the rest discarded. The thickness of the sample itself is sample metadata.'
    type: number
    constraints:
      required: False
  -
    name: resolution_z_unit
    description: The unit of incremental distance between image slices.(um)
    constraints:
      required: True
      enum: ['mm', 'um', 'nm']
  -
    heading: Level 3
    name: preparation_instrument_vendor
    description: The manufacturer of the instrument used to prepare the sample for the assay.
    constraints:
      required: True
  -
    name: preparation_instrument_model
    description: The model number/name of the instrument used to prepare the sample for the assay
    constraints:
      required: True
  -
    name: number_of_antibodies
    description: Number of antibodies
    type: integer
    constraints:
      required: True
  -
    name: number_of_channels
    description: Number of fluorescent channels imaged during each cycle.
    type: integer
    constraints:
      required: True
  -
    name: number_of_cycles
    description: Number of cycles of 1. oligo application, 2. fluor application, 3. washes
    type: integer
    constraints:
      required: True
  -
    name: section_prep_protocols_io_doi
    description: DOI for protocols.io referring to the protocol for preparing tissue sections for the assay.
    constraints:
      required: True
      pattern: '10\.17504/.*'
  -
    name: reagent_prep_protocols_io_doi
    description: DOI for protocols.io referring to the protocol for preparing reagents for the assay.
    constraints:
      required: True
      pattern: '10\.17504/.*'
  -
    heading: Paths
    name: metadata_path
    description: Relative path to file or directory with free-form or instrument/lab specific metadata. Optional.
    constraints:
      required: False
  -
    name: data_path
    description: Relative path to file or directory with instrument data. Downstream processing will depend on filename extension conventions. Required.
    constraints:
      required: True
