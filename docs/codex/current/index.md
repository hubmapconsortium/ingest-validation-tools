---
title: CODEX
schema_name: codex
category: Multiplex Fluorescence Based Experiment (MxFBE)
all_versions_deprecated: False
exclude_from_index: False
layout: default

---
Prepare your metadata based on the latest metadata schema using one of the template files below. See the instructions in the [Metadata Validation Workflow](https://docs.google.com/document/d/1lfgiDGbyO4K4Hz1FMsJjmJd9RdwjShtJqFYNwKpbcZY) document for more information on preparing and validating your metadata.tsv file prior to submission.

Related files:


- [üìù Excel template](https://raw.githubusercontent.com/hubmapconsortium/dataset-metadata-spreadsheet/main/codex/latest/codex.xlsx): For metadata entry.
- [üìù TSV template](https://raw.githubusercontent.com/hubmapconsortium/dataset-metadata-spreadsheet/main/codex/latest/codex.tsv): Alternative for metadata entry.


**For the PhenoCycler specification, please click [here](https://hubmapconsortium.github.io/ingest-validation-tools/phenocycler/current/).** [This link](https://docs.google.com/spreadsheets/d/1YnmdTAA0Z9MKN3OjR3Sca8pz-LNQll91wdQoRPSP6Q4/edit#gid=0) lists the set of fields that are required in the OME TIFF file XML header.

## Metadata schema


<summary><a href="https://openview.metadatacenter.org/templates/https:%2F%2Frepo.metadatacenter.org%2Ftemplates%2F47c6071a-2ec7-46c1-94d9-6b5e2d7ac982"><b>Version 2 (use this one)</b></a></summary>



<br>

## Directory schemas
<summary><b>Version 2.3 (use this one)</b></summary>

| pattern | required? | description |
| --- | --- | --- |
| <code>extras\/.*</code> | ‚úì | Folder for general lab-specific files related to the dataset. [Exists in all assays] |
| <code>extras\/microscope_hardware\.json$</code> | ‚úì | **[QA/QC]** A file generated by the micro-meta app that contains a description of the hardware components of the microscope. Email HuBMAP Consortium Help Desk <help@hubmapconsortium.org> if help is required in generating this document. |
| <code>extras\/microscope_settings\.json$</code> |  | **[QA/QC]** A file generated by the micro-meta app that contains a description of the settings that were used to acquire the image data. Email HuBMAP Consortium Help Desk <help@hubmapconsortium.org> if help is required in generating this document. |
| <code>raw\/.*</code> | ‚úì | This is a directory containing raw data. |
| <code>lab_processed\/.*</code> | ‚úì | Experiment files that were processed by the lab generating the data. |
| <code>lab_processed\/images\/.*</code> | ‚úì | This is a directory containing processed image files |
| <code>lab_processed\/images\/[^\/]+\.ome\.tiff$</code> | ‚úì | OME-TIFF file (multichannel, multi-layered) produced by the experiment. If compressed, must use loss-less compression algorithm. See the following link for the set of fields that are required in the OME TIFF file XML header. <https://docs.google.com/spreadsheets/d/1YnmdTAA0Z9MKN3OjR3Sca8pz-LNQll91wdQoRPSP6Q4/edit#gid=0> |
| <code>lab_processed\/images\/[^\/]*ome-tiff\.channels\.csv$</code> | ‚úì | This file should describe any processing that was done to generate the images in each channel of the accommpanying OME TIFF. The file should contain one row per OME TIFF channel. Two columns should be booleans "is this a channel to use for nuclei segmentation"  and "is this a channel to use for cell segmentation". |
| <code>[^\/]*NAV[^\/]*\.tif$</code> (example: <code>NAV.tif</code>) |  | Navigational Image showing Region of Interest (Keyance Microscope only) |
| <code>[^\/]+\.pdf$</code> (example: <code>summary.pdf</code>) |  | **[QA/QC]** PDF export of Powerpoint slide deck containing the Image Analysis Report |
| <code>extras\/dir-schema-v2-with-dataset-json</code> | ‚úì | Empty file whose presence indicates the version of the directory schema in use |
| <code>processed\/drv_[^\/]*\/.*</code> | ‚úì | Processed files produced by the Akoya software or alternative software. |
| <code>raw\/cyc[^\/]*_reg[^\/]*\/.*</code> | ‚úì | Intermediary directory |
| <code>raw\/src_[^\/]*\/.*</code> | ‚úì | Intermediary directory |
| <code>raw\/cyc[^\/]*_reg[^\/]*\/[^\/]*_z[^\/]*_CH[^\/]*\.tif$</code> | ‚úì | TIFF files produced by the experiment. General folder format: Cycle(n)_Region(n)_date; General file format: name_tileNumber(n)_zplaneNumber(n)_channelNumber(n) |
| <code>raw\/src_[^\/]*\/cyc[^\/]*_reg[^\/]*_[^\/]*\/[^\/]+\.gci$</code> |  | Group Capture Information File (Keyance Microscope only) |
| <code>raw\/dataset\.json$</code> (example: <code>raw/dataset.json</code>) | ‚úì | Data processing parameters file. This will include additional CODEX specific metadata needed for the HIVE processing workflow. |
| <code>raw\/reg_[^\/]*\.png$</code> (example: <code>raw/reg_00.png</code>) |  | Region overviews |
| <code>raw\/experiment\.json$</code> (example: <code>raw/experiment.json</code>) |  | JSON file produced by the Akoya software which contains the metadata for the experiment, including the software version used, microscope parameters, channel names, pixel dimensions, etc. (required for HuBMAP pipeline) |

<summary><b>Version 2.2</b></summary>

| pattern | required? | description |
| --- | --- | --- |
| <code>extras\/.*</code> | ‚úì | Folder for general lab-specific files related to the dataset. [Exists in all assays] |
| <code>extras\/microscope_hardware\.json</code> | ‚úì | **[QA/QC]** A file generated by the micro-meta app that contains a description of the hardware components of the microscope. Email HuBMAP Consortium Help Desk <help@hubmapconsortium.org> if help is required in generating this document. |
| <code>extras\/microscope_settings\.json</code> |  | **[QA/QC]** A file generated by the micro-meta app that contains a description of the settings that were used to acquire the image data. Email HuBMAP Consortium Help Desk <help@hubmapconsortium.org> if help is required in generating this document. |
| <code>raw\/.*</code> | ‚úì | This is a directory containing raw data. |
| <code>lab_processed\/.*</code> | ‚úì | Experiment files that were processed by the lab generating the data. |
| <code>lab_processed\/images\/.*</code> | ‚úì | This is a directory containing processed image files |
| <code>lab_processed\/images\/[^\/]+\.ome\.tiff</code> | ‚úì | OME-TIFF file (multichannel, multi-layered) produced by the experiment. If compressed, must use loss-less compression algorithm. See the following link for the set of fields that are required in the OME TIFF file XML header. <https://docs.google.com/spreadsheets/d/1YnmdTAA0Z9MKN3OjR3Sca8pz-LNQll91wdQoRPSP6Q4/edit#gid=0> |
| <code>lab_processed\/images\/[^\/]*ome-tiff\.channels\.csv</code> | ‚úì | This file should describe any processing that was done to generate the images in each channel of the accommpanying OME TIFF. The file should contain one row per OME TIFF channel. Two columns should be booleans "is this a channel to use for nuclei segmentation"  and "is this a channel to use for cell segmentation". |
| <code>[^\/]*NAV[^\/]*\.tif</code> (example: <code>NAV.tif</code>) |  | Navigational Image showing Region of Interest (Keyance Microscope only) |
| <code>[^\/]+\.pdf</code> (example: <code>summary.pdf</code>) |  | **[QA/QC]** PDF export of Powerpoint slide deck containing the Image Analysis Report |
| <code>extras\/dir-schema-v2-with-dataset-json</code> | ‚úì | Empty file whose presence indicates the version of the directory schema in use |
| <code>processed\/drv_[^\/]*\/.*</code> | ‚úì | Processed files produced by the Akoya software or alternative software. |
| <code>raw\/cyc[^\/]*_reg[^\/]*\/.*</code> | ‚úì | Intermediary directory |
| <code>raw\/src_[^\/]*\/.*</code> | ‚úì | Intermediary directory |
| <code>raw\/cyc[^\/]*_reg[^\/]*\/[^\/]*_z[^\/]*_CH[^\/]*\.tif</code> | ‚úì | TIFF files produced by the experiment. General folder format: Cycle(n)_Region(n)_date; General file format: name_tileNumber(n)_zplaneNumber(n)_channelNumber(n) |
| <code>raw\/src_[^\/]*\/cyc[^\/]*_reg[^\/]*_[^\/]*\/[^\/]+\.gci</code> |  | Group Capture Information File (Keyance Microscope only) |
| <code>raw\/dataset\.json</code> (example: <code>raw/dataset.json</code>) | ‚úì | Data processing parameters file. This will include additional CODEX specific metadata needed for the HIVE processing workflow. |
| <code>raw\/reg_[^\/]*\.png</code> (example: <code>raw/reg_00.png</code>) |  | Region overviews |
| <code>raw\/experiment\.json</code> (example: <code>raw/experiment.json</code>) |  | JSON file produced by the Akoya software which contains the metadata for the experiment, including the software version used, microscope parameters, channel names, pixel dimensions, etc. (required for HuBMAP pipeline) |

<summary><b>Version 2.1</b></summary>

| pattern | required? | description |
| --- | --- | --- |
| <code>extras\/.*</code> | ‚úì | Folder for general lab-specific files related to the dataset. [Exists in all assays] |
| <code>extras\/microscope_hardware\.json</code> | ‚úì | **[QA/QC]** A file generated by the micro-meta app that contains a description of the hardware components of the microscope. Email HuBMAP Consortium Help Desk <help@hubmapconsortium.org> if help is required in generating this document. |
| <code>extras\/microscope_settings\.json</code> |  | **[QA/QC]** A file generated by the micro-meta app that contains a description of the settings that were used to acquire the image data. Email HuBMAP Consortium Help Desk <help@hubmapconsortium.org> if help is required in generating this document. |
| <code>raw\/.*</code> | ‚úì | This is a directory containing raw data. |
| <code>lab_processed\/images\/[^\/]+\.ome\.tiff</code> | ‚úì | OME-TIFF file (multichannel, multi-layered) produced by the experiment. If compressed, must use loss-less compression algorithm. See the following link for the set of fields that are required in the OME TIFF file XML header. <https://docs.google.com/spreadsheets/d/1YnmdTAA0Z9MKN3OjR3Sca8pz-LNQll91wdQoRPSP6Q4/edit#gid=0> |
| <code>lab_processed\/images\/[^\/]*ome-tiff\.channels\.csv</code> | ‚úì | This file should describe any processing that was done to generate the images in each channel of the accommpanying OME TIFF. The file should contain one row per OME TIFF channel. Two columns should be booleans "is this a channel to use for nuclei segmentation"  and "is this a channel to use for cell segmentation". |
| <code>[^\/]*NAV[^\/]*\.tif</code> (example: <code>NAV.tif</code>) |  | Navigational Image showing Region of Interest (Keyance Microscope only) |
| <code>[^\/]+\.pdf</code> (example: <code>summary.pdf</code>) |  | **[QA/QC]** PDF export of Powerpoint slide deck containing the Image Analysis Report |
| <code>extras\/dir-schema-v2-with-dataset-json</code> | ‚úì | Empty file whose presence indicates the version of the directory schema in use |
| <code>processed\/drv_[^\/]*\/.*</code> | ‚úì | Processed files produced by the Akoya software or alternative software. |
| <code>raw\/cyc[^\/]*_reg[^\/]*\/.*</code> | ‚úì | Intermediary directory |
| <code>raw\/src_[^\/]*\/.*</code> | ‚úì | Intermediary directory |
| <code>raw\/cyc[^\/]*_reg[^\/]*\/[^\/]*_z[^\/]*_CH[^\/]*\.tif</code> | ‚úì | TIFF files produced by the experiment. General folder format: Cycle(n)_Region(n)_date; General file format: name_tileNumber(n)_zplaneNumber(n)_channelNumber(n) |
| <code>raw\/src_[^\/]*\/cyc[^\/]*_reg[^\/]*_[^\/]*\/[^\/]+\.gci</code> |  | Group Capture Information File (Keyance Microscope only) |
| <code>raw\/dataset\.json</code> (example: <code>raw/dataset.json</code>) | ‚úì | Data processing parameters file. This will include additional CODEX specific metadata needed for the HIVE processing workflow. |
| <code>raw\/reg_[^\/]*\.png</code> (example: <code>raw/reg_00.png</code>) |  | Region overviews |
| <code>raw\/experiment\.json</code> (example: <code>raw/experiment.json</code>) |  | JSON file produced by the Akoya software which contains the metadata for the experiment, including the software version used, microscope parameters, channel names, pixel dimensions, etc. (required for HuBMAP pipeline) |

<summary><b>Version 2.0</b></summary>

| pattern | required? | description |
| --- | --- | --- |
| <code>extras\/.*</code> | ‚úì | Folder for general lab-specific files related to the dataset. [Exists in all assays] |
| <code>extras\/microscope_hardware\.json</code> | ‚úì | **[QA/QC]** A file generated by the micro-meta app that contains a description of the hardware components of the microscope. Email HuBMAP Consortium Help Desk <help@hubmapconsortium.org> if help is required in generating this document. |
| <code>extras\/microscope_settings\.json</code> |  | **[QA/QC]** A file generated by the micro-meta app that contains a description of the settings that were used to acquire the image data. Email HuBMAP Consortium Help Desk <help@hubmapconsortium.org> if help is required in generating this document. |
| <code>raw\/.*</code> | ‚úì | This is a directory containing raw data. |
| <code>lab_processed\/images\/[^\/]+\.ome\.tiff</code> | ‚úì | OME-TIFF file (multichannel, multi-layered) produced by the experiment. If compressed, must use loss-less compression algorithm. See the following link for the set of fields that are required in the OME TIFF file XML header. <https://docs.google.com/spreadsheets/d/1YnmdTAA0Z9MKN3OjR3Sca8pz-LNQll91wdQoRPSP6Q4/edit#gid=0> |
| <code>lab_processed\/images\/[^\/]*ome-tiff\.channels\.csv</code> | ‚úì | This file should describe any processing that was done to generate the images in each channel of the accompanying OME TIFF. The file should contain one row per OME TIFF channel. Two columns should be booleans "is this a channel to use for nuclei segmentation"  and "is this a channel to use for cell segmentation". |
| <code>[^\/]*NAV[^\/]*\.tif</code> (example: <code>NAV.tif</code>) |  | Navigational Image showing Region of Interest (Keyance Microscope only) |
| <code>[^\/]+\.pdf</code> (example: <code>summary.pdf</code>) |  | **[QA/QC]** PDF export of Powerpoint slide deck containing the Image Analysis Report |
| <code>extras\/dir-schema-v2-with-dataset-json</code> | ‚úì | Empty file whose presence indicates the version of the directory schema in use |
| <code>processed\/drv_[^\/]*\/</code> | ‚úì | Processed files produced by the Akoya software or alternative software. |
| <code>raw\/cyc[^\/]*_reg[^\/]*\/.*</code> | ‚úì | Intermediary directory |
| <code>raw\/src_[^\/]*\/</code> | ‚úì | Intermediary directory |
| <code>raw\/cyc[^\/]*_reg[^\/]*\/[^\/]*_z[^\/]*_CH[^\/]*\.tif</code> | ‚úì | TIFF files produced by the experiment. General folder format: Cycle(n)_Region(n)_date; General file format: name_tileNumber(n)_zplaneNumber(n)_channelNumber(n) |
| <code>raw\/src_[^\/]*\/cyc[^\/]*_reg[^\/]*_[^\/]*\/[^\/]+\.gci</code> |  | Group Capture Information File (Keyance Microscope only) |
| <code>raw\/dataset\.json</code> (example: <code>raw/dataset.json</code>) | ‚úì | Data processing parameters file. This will include additional CODEX specific metadata needed for the HIVE processing workflow. |
| <code>raw\/reg_[^\/]*\.png</code> (example: <code>raw/reg_00.png</code>) |  | Region overviews |
| <code>raw\/experiment\.json</code> (example: <code>raw/experiment.json</code>) |  | JSON file produced by the Akoya software which contains the metadata for the experiment, including the software version used, microscope parameters, channel names, pixel dimensions, etc. (required for HuBMAP pipeline) |

